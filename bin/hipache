#!/usr/bin/env node

'use strict';

var program = require('commander'),
    Hipache = require('../lib/hipache')

program
  .version('0.2.4')
  .option('-c, --config [file]', 'Location of the configuration file')
  .parse(process.argv);

if (!program.config) program.help();

    header_defaults = {
      'x-forwarded-for': remoteAddr,
      'x-real-ip': remoteAddr,
      'x-forwarded-protocol' : req.connection.pair ? 'https' : 'http',
      'x-forwarded-proto': req.connection.pair ? 'https' : 'http',
      'x-forwarded-port': req.connection.pair ? '443' : '80'
    }

    _.each(header_defaults, function(default) {
      console.log(default)
    })


var hipache = new Hipache

hipache.run(program.config)


